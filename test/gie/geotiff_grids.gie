
-------------------------------------------------------------------------------
===============================================================================
Test GeoTIFF grids
===============================================================================

<gie>

-------------------------------------------------------------------------------
operation   +proj=vgridshift +grids=tests/test_vgrid_pixelispoint.tif +multiplier=1
-------------------------------------------------------------------------------
accept      4.5        52.5        0
expect      4.5        52.5        11.5
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=vgridshift +grids=tests/test_vgrid_pixelisarea.tif +multiplier=1
-------------------------------------------------------------------------------
accept      4.5        52.5        0
expect      4.5        52.5        11.5
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=vgridshift +grids=tests/test_vgrid_deflate.tif +multiplier=1
-------------------------------------------------------------------------------
accept      4.5        52.5        0
expect      4.5        52.5        11.5
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=vgridshift +grids=tests/test_vgrid_deflate_floatingpointpredictor.tif +multiplier=1
-------------------------------------------------------------------------------
accept      4.5        52.5        0
expect      4.5        52.5        11.5
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=vgridshift +grids=tests/test_vgrid_uint16.tif +multiplier=1
-------------------------------------------------------------------------------
accept      4.5        52.5        0
expect      4.5        52.5        11.5
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=vgridshift +grids=tests/test_vgrid_uint16_with_scale_offset.tif +multiplier=1
-------------------------------------------------------------------------------
accept      4.5        52.5        0
expect      4.5        52.5        11.5
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=vgridshift +grids=tests/test_vgrid_int16.tif +multiplier=1
-------------------------------------------------------------------------------
accept      4.5        52.5        0
expect      4.5        52.5        11.5
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=vgridshift +grids=tests/test_vgrid_int32.tif +multiplier=1
-------------------------------------------------------------------------------
accept      4.5        52.5        0
expect      4.5        52.5        11.5
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=vgridshift +grids=tests/test_vgrid_uint32.tif +multiplier=1
-------------------------------------------------------------------------------
accept      4.5        52.5        0
expect      4.5        52.5        11.5
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=vgridshift +grids=tests/test_vgrid_float64.tif +multiplier=1
-------------------------------------------------------------------------------
accept      4.5        52.5        0
expect      4.5        52.5        11.5
-------------------------------------------------------------------------------

# The overview should be ignored
-------------------------------------------------------------------------------
operation   +proj=vgridshift +grids=tests/test_vgrid_with_overview.tif +multiplier=1
-------------------------------------------------------------------------------
accept      4.5        52.5        0
expect      4.5        52.5        11.5
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=vgridshift +grids=tests/test_vgrid_in_second_channel.tif +multiplier=1
-------------------------------------------------------------------------------
accept      4.5        52.5        0
expect      4.5        52.5        11.5
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=vgridshift +grids=tests/test_vgrid_bigtiff.tif +multiplier=1
-------------------------------------------------------------------------------
accept      4.5        52.5        0
expect      4.5        52.5        11.5
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=vgridshift +grids=tests/test_vgrid_bigendian.tif +multiplier=1
-------------------------------------------------------------------------------
accept      4.5        52.5        0
expect      4.5        52.5        11.5
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=vgridshift +grids=tests/test_vgrid_bigendian_bigtiff.tif +multiplier=1
-------------------------------------------------------------------------------
accept      4.5        52.5        0
expect      4.5        52.5        11.5
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=vgridshift +grids=tests/test_vgrid_bottomup_with_scale.tif +multiplier=1
-------------------------------------------------------------------------------
accept      4.5        52.5        0
expect      4.5        52.5        11.5
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=vgridshift +grids=tests/test_vgrid_bottomup_with_matrix.tif +multiplier=1
-------------------------------------------------------------------------------
accept      4.5        52.5        0
expect      4.5        52.5        11.5
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=vgridshift +grids=tests/test_vgrid_with_subgrid.tif +multiplier=1
-------------------------------------------------------------------------------
accept      4.5        52.5        0
expect      4.5        52.5        11.5

# In subgrid
accept      5.5        53.5        0
expect      5.5        53.5        110.0
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=vgridshift +grids=tests/test_vgrid_nodata.tif +multiplier=1
-------------------------------------------------------------------------------
accept      4.05        52.1        0
expect      4.05        52.1        10
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=vgridshift +grids=tests/test_vgrid_invalid_channel_type.tif +multiplier=1
-------------------------------------------------------------------------------
expect      failure errno failed_to_load_grid
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=vgridshift +grids=tests/test_vgrid_unsupported_byte.tif +multiplier=1
-------------------------------------------------------------------------------
expect      failure errno failed_to_load_grid
-------------------------------------------------------------------------------



-------------------------------------------------------------------------------
operation   +proj=hgridshift +grids=tests/test_hgrid.tif
-------------------------------------------------------------------------------
tolerance   2 mm
accept      4.5        52.5        0
expect      5.875      55.375      0
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=hgridshift +grids=tests/test_hgrid_separate.tif
-------------------------------------------------------------------------------
tolerance   2 mm
accept      4.5        52.5        0
expect      5.875      55.375      0
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=hgridshift +grids=tests/test_hgrid_strip.tif
-------------------------------------------------------------------------------
tolerance   2 mm
accept      4.5        52.5        0
expect      5.875      55.375      0
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=hgridshift +grids=tests/test_hgrid_tiled.tif
-------------------------------------------------------------------------------
tolerance   2 mm
accept      4.5        52.5        0
expect      5.875      55.375      0
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=hgridshift +grids=tests/test_hgrid_tiled_separate.tif
-------------------------------------------------------------------------------
tolerance   2 mm
accept      4.5        52.5        0
expect      5.875      55.375      0
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=hgridshift +grids=tests/test_hgrid_positive_west.tif
-------------------------------------------------------------------------------
tolerance   2 mm
accept      4.5        52.5        0
expect      5.875      55.375      0
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=hgridshift +grids=tests/test_hgrid_lon_shift_first.tif
-------------------------------------------------------------------------------
tolerance   2 mm
accept      4.5        52.5        0
expect      5.875      55.375      0
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=hgridshift +grids=tests/test_hgrid_radian.tif
-------------------------------------------------------------------------------
tolerance   2 mm
accept      4.5        52.5        0
expect      5.875      55.375      0
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=hgridshift +grids=tests/test_hgrid_degree.tif
-------------------------------------------------------------------------------
tolerance   2 mm
accept      4.5        52.5        0
expect      5.875      55.375      0
-------------------------------------------------------------------------------

# The overview should be ignored
-------------------------------------------------------------------------------
operation   +proj=hgridshift +grids=tests/test_hgrid_with_overview.tif
-------------------------------------------------------------------------------
tolerance   2 mm
accept      4.5        52.5        0
expect      5.875      55.375      0
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=hgridshift +grids=tests/test_hgrid_extra_ifd_with_other_info.tif
-------------------------------------------------------------------------------
tolerance   2 mm
accept      4.5        52.5        0
expect      5.875      55.375      0
-------------------------------------------------------------------------------

# Subset of NTv2_0.gsb
-------------------------------------------------------------------------------
operation   +proj=hgridshift +grids=tests/test_hgrid_with_subgrid.tif
-------------------------------------------------------------------------------
# In subgrid ALbanff, of parent CAwest
accept     -115.5416667      51.1666667        0
expect     -115.5427092888   51.1666899972     0

# In subgrid ONtronto, of parent CAeast
accept     -80.5041667       44.5458333        0
expect     -80.50401615833   44.5458827236     0
-------------------------------------------------------------------------------

# Subset of NTv2_0.gsb
-------------------------------------------------------------------------------
operation   +proj=hgridshift +grids=tests/test_hgrid_with_subgrid_no_grid_name.tif
-------------------------------------------------------------------------------
# In subgrid ALbanff, of parent CAwest
accept     -115.5416667      51.1666667        0
expect     -115.5427092888   51.1666899972     0

# In subgrid ONtronto, of parent CAeast
accept     -80.5041667       44.5458333        0
expect     -80.50401615833   44.5458827236     0
-------------------------------------------------------------------------------

-------------------------------------------------------------------------------
operation   +proj=hgridshift +grids=tests/test_vgrid.tif
-------------------------------------------------------------------------------
expect      failure errno failed_to_load_grid
-------------------------------------------------------------------------------


</gie>
